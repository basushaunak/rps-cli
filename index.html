<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Rock-Paper-Scissors - Console Edition</title>
    </head>
    <body>
        <script>
            const rpsArray = ["Rock", "Paper", "Scissors"];
            function computerPlay(){
                return randRps();
            }
            function userPlay(){
                /* userInput stores the data entered by the user */
                /* userChoice converts it to an integer to map with the array
                   also acts as a control variable to ensure the user enters
                   a valid word */
                let userChoice = -1;
                let userInput = ""
                while(userChoice == -1){
                    userInput = prompt("Please enter rock, paper or scissors");
                    userInput = userInput.toLocaleLowerCase();
                    if(userInput === "rock"){
                        userChoice = 0;
                    }else if(userInput === "paper"){
                        userChoice = 1;
                    } else if(userInput === "scissors"){
                        userChoice = 2;
                    }else {
                        console.log("Invalid choice! Please enter ROCK or PAPER or SCISSORS");
                        userChoice = -1;
                    }
                }
                return userChoice; 
            }
            /* Returns a random number between 0 and 2 as the computer's bid*/
            function randRps(){
                let cmpValue=0;
                /* Generates a random number between 0 and 2 (by multiplying 
                it with 3 & then and converting it to integer */
                cmpValue = parseInt(Math.random()*3);
                return cmpValue;
            }
            function playRPS(){
                let userChoice = userPlay();
                let compChoice = computerPlay();
                let returnString = "";
                if(compChoice==0){
                    if(userChoice==0){
                        returnString ="Wow! It's a Draw!!!";
/*                        return returnString; */
                    }else if(userChoice==1){
                        returnString="WooHoo! You won! You chose " + rpsArray[1] + " but the computer chose " + rpsArray[0] + ".";
                    }else{
                        returnString="Sorry! You have lost. You chose " + rpsArray[2] + " but the computer chose " + rpsArray[0] + ".";
                    }
                }else if(compChoice==1) {
                    if(userChoice==0){
                        returnString =  "Sorry! You have lost. You chose " + rpsArray[0] + " but the computer chose " + rpsArray[1] + ".";
/*                        return returnString; */
                    } else if(userChoice==1){
                        returnString= "Wow! It's a Draw!!!";
                    } else {
                        returnString="WooHoo! You won! You chose " + rpsArray[2] + " but the computer chose " + rpsArray[1] + "." ;
                    }
                } else {
                    if(userChoice==0){
                        returnString = "WooHoo! You won! You chose " + rpsArray[0] + " but the computer chose " + rpsArray[2] + ".";
/*                        return returnString; */
                    } else if(userChoice==1){
                        returnString=  "Sorry! You have lost. You chose " + rpsArray[1] + " but the computer chose " + rpsArray[2] + ".";
                    } else {
                        returnString = "Wow! It's a Draw!!!";
                    }
                }
                return returnString ;
            }
        </script>
    </body>
</html>